<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vanshawali - KASUMALGARH</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
    /* -------------------------------------------------- */
    /* üå≥ ‡§¨‡•á‡§∏‡§ø‡§ï ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏ */
    /* -------------------------------------------------- */
    body {
        font-family: 'Georgia', serif;
        background-color: #fcf6ba;
        color: #333;
        margin: 0;
        padding: 20px;
        display: flex; /* ‡§á‡§Ç‡§°‡•á‡§ï‡•ç‡§∏ ‡§î‡§∞ ‡§ü‡•ç‡§∞‡•Ä ‡§ï‡•ã ‡§Ö‡§≤‡§ó ‡§∞‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è */
    }

    /* -------------------------------------------------- */
    /* üìú Name Index (‡§®‡§æ‡§Æ ‡§∏‡•Ç‡§ö‡•Ä - ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞) */
    /* -------------------------------------------------- */
    #index-container {
        width: 250px;
        height: 90vh;
        position: fixed;
        right: 20px;
        top: 20px;
        background: #fff;
        border: 2px solid #800000;
        border-radius: 8px;
        padding: 10px;
        overflow-y: auto; /* ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è */
        box-shadow: -5px 5px 15px rgba(0,0,0,0.2);
        z-index: 1000;
    }

    #index-container h3 {
        text-align: center;
        color: #800000;
        margin-top: 0;
        border-bottom: 1px solid #d4af37;
        padding-bottom: 5px;
    }

    #name-list {
        list-style: none;
        padding: 0;
    }

    #name-list li {
        margin-bottom: 5px;
    }

    #name-list a {
        text-decoration: none;
        color: #333;
        font-size: 14px;
        display: block;
        padding: 3px;
        transition: 0.3s;
        text-transform: capitalize;
    }

    #name-list a:hover {
        background-color: #800000;
        color: white;
        padding-left: 10px;
    }

    /* -------------------------------------------------- */
    /* üå≥ ‡§µ‡§Ç‡§∂‡§µ‡•É‡§ï‡•ç‡§∑ (Main Tree Area) */
    /* -------------------------------------------------- */
    #tree-container {
        flex-grow: 1;
        padding-right: 280px; /* ‡§á‡§Ç‡§°‡•á‡§ï‡•ç‡§∏ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§ó‡§π ‡§õ‡•ã‡§°‡§º‡•á‡§Ç */
    }

    h1 {
        text-align: center;
        color: #800000;
        border-bottom: 2px solid #800000;
        padding-bottom: 10px;
        text-transform: uppercase;
    }

    /* ‡§™‡•á‡§°‡§º ‡§ï‡•Ä ‡§ú‡§°‡§º */
    .tree, .tree ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
    }

    .tree ul {
        padding-left: 20px;
    }

    .tree li {
        margin: 0;
        padding: 0 12px;
        line-height: 35px; /* ‡§µ‡§∞‡•ç‡§ü‡§ø‡§ï‡§≤ ‡§∏‡•ç‡§™‡•á‡§∏ ‡§•‡•ã‡§°‡§º‡§æ ‡§¨‡§¢‡§º‡§æ‡§Ø‡§æ */
        position: relative;
        font-weight: bold;
        color: #2c0e0e;
    }

    /* ‚îÄ‚îÄ‚îÄ ‡§ñ‡•ú‡•Ä ‡§≤‡§æ‡§á‡§® ‚îÄ‚îÄ‚îÄ */
    .tree li::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        border-left: 2px solid #800000;
        height: 100%;
        width: 1px;
    }

    /* ‚îÄ‚îÄ‚îÄ ‡§Ü‡•ú‡•Ä ‡§≤‡§æ‡§á‡§® ‚îÄ‚îÄ‚îÄ */
    .tree li::after {
        content: "";
        position: absolute;
        top: 18px; /* ‡§≤‡§æ‡§á‡§® ‡§ï‡•ã ‡§ï‡§æ‡§∞‡•ç‡§° ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§ü ‡§ï‡§ø‡§Ø‡§æ */
        left: 0;
        border-top: 2px solid #800000;
        height: 1px;
        width: 10px;
    }

    .tree li:last-child::before {
        height: 19px;
    }

    /* -------------------------------------------------- */
    /* üé¥ ‡§Æ‡•á‡§Ç‡§¨‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§° ‡§°‡§ø‡§ú‡§æ‡§á‡§® */
    /* -------------------------------------------------- */
    .member-card {
        background-color: #fff;
        border: 1px solid #d4af37;
        padding: 5px 10px;
        border-radius: 4px;
        display: inline-block;
        box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        position: relative;
        cursor: pointer;
    }

    .founder-card {
        background: linear-gradient(to bottom, #fcf6ba, #d4af37);
        border: 2px solid #800000;
    }

    .member-name {
        text-transform: capitalize; /* ‡§®‡§æ‡§Æ ‡§ï‡§æ ‡§™‡§π‡§≤‡§æ ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§¨‡§°‡§º‡§æ ‡§ï‡§∞‡•á‡§Ç */
    }

    .crown-icon {
        color: #800000;
        margin-right: 5px;
    }

    /* Hover Effect Style */
    .member-card:hover {
        background-color: #800000;
        color: #fff;
        transform: scale(1.05); /* ‡§•‡•ã‡§°‡§º‡§æ ‡§¨‡§°‡§º‡§æ ‡§π‡•ã ‡§ú‡§æ‡§è‡§ó‡§æ */
        z-index: 100;
    }
    
    .member-card:hover .crown-icon { color: #fff; }

    /* Highlight (‡§ú‡§¨ ‡§á‡§Ç‡§°‡•á‡§ï‡•ç‡§∏ ‡§∏‡•á ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç) */
    .highlight-name {
        background-color: yellow !important;
        border: 2px solid red !important;
        color: black !important;
        animation: pulse 1s infinite;
    }

    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.1); }
        100% { transform: scale(1); }
    }

    /* -------------------------------------------------- */
    /* üí¨ Tooltip (‡§π‡•ã‡§µ‡§∞ ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§¶‡§ø‡§ñ‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§¨‡•â‡§ï‡•ç‡§∏) */
    /* -------------------------------------------------- */
    #tooltip {
        position: absolute;
        display: none;
        background: #2c0e0e;
        color: #fcf6ba;
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #d4af37;
        font-size: 0.9em;
        pointer-events: none; /* ‡§§‡§æ‡§ï‡•Ä ‡§Æ‡§æ‡§â‡§∏ ‡§¨‡•Ä‡§ö ‡§Æ‡•á‡§Ç ‡§® ‡§Ü‡§è */
        z-index: 2000;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        min-width: 150px;
    }

    #tooltip strong {
        color: #ffcc00;
        display: block;
        border-bottom: 1px solid #555;
        margin-bottom: 5px;
        padding-bottom: 2px;
    }

    /* ================================================== */
    /* üì± MOBILE RESPONSIVE FIX (‡§Ø‡§π‡§æ‡§Å ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à) */
    /* ================================================== */
    @media (max-width: 768px) {
        
        /* 1. ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§™‡§∞ ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ (Index) ‡§õ‡•Å‡§™‡§æ ‡§¶‡•á‡§Ç */
        #index-container {
            display: none; 
        }

        /* 2. ‡§≤‡•á‡§Ü‡§â‡§ü ‡§ï‡•ã ‡§´‡•ç‡§≤‡•á‡§ï‡•ç‡§∏ ‡§∏‡•á ‡§π‡§ü‡§æ‡§ï‡§∞ ‡§¨‡•ç‡§≤‡•â‡§ï ‡§ï‡§∞‡•á‡§Ç */
        body {
            display: block; 
            padding: 10px;
            overflow-x: auto; /* ‡§Ö‡§ó‡§∞ ‡§ü‡•ç‡§∞‡•Ä ‡§ö‡•å‡•ú‡§æ ‡§π‡•à ‡§§‡•ã ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§π‡•ã ‡§∏‡§ï‡•á */
        }

        /* 3. ‡§ü‡•ç‡§∞‡•Ä ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§ï‡•ã ‡§´‡•Å‡§≤ ‡§µ‡§ø‡§°‡•ç‡§• ‡§¶‡•á‡§Ç */
        #tree-container {
            padding-right: 0;
            width: 100%;
        }

        /* 4. ‡§π‡•á‡§°‡§ø‡§Ç‡§ó ‡§∏‡§æ‡§á‡§ú ‡§•‡•ã‡•ú‡§æ ‡§õ‡•ã‡§ü‡§æ ‡§ï‡§∞‡•á‡§Ç */
        h1 {
            font-size: 1.5rem;
        }
    }

</style>
</head>
<body>

    <div id="index-container">
        <h3>Name Index</h3>
        <input type="text" id="search-box" placeholder="Search name..." onkeyup="filterNames()" style="width: 90%; padding: 5px; margin-bottom: 10px;">
        <ul id="name-list">
            </ul>
    </div>

    <div id="tree-container">
        <h1>Thikana Kasumalgarh Vanshawali</h1>
        
        <div id="tooltip"></div>

        <ul class="tree">
            <li>
                <div class="member-card founder-card" id="root-node">
                    <i class="fas fa-crown crown-icon"></i>
                    <span class="member-name">Th. Narayan Singh</span>
                </div>
                
                <ul>
                    <li>
                        <div class="member-card"><span class="member-name">Akhe Singh</span></div>
                        <ul>
                            <li>
                                <div class="member-card"><span class="member-name">Mangal Singh</span></div>
                                <ul>
                                    <li>
                                        <div class="member-card"><span class="member-name">Bakhtawar Singh</span></div>
                                        <ul>
                                            <li>
                                                <div class="member-card"><span class="member-name">Raghunath Singh</span></div>
                                                <ul>
                                                    <li>
                                                        <div class="member-card"><span class="member-name">Roop Singh</span></div>
                                                        <ul>
                                                            <li><div class="member-card"><span class="member-name">Ridmal Singh</span></div></li>
                                                        </ul>
                                                    </li>
                                                    <li><div class="member-card"><span class="member-name">Gopinath Singh</span></div></li>
                                                </ul>
                                            </li>
                                            <li><div class="member-card"><span class="member-name">Sonath Singh</span></div></li>
                                            <li>
                                                <div class="member-card"><span class="member-name">Javhar Singh</span></div>
                                                <ul>
                                                    <li><div class="member-card"><span class="member-name">Sabal Singh</span></div></li>
                                                    <li><div class="member-card"><span class="member-name">Balwant Singh</span></div></li>
                                                    <li><div class="member-card"><span class="member-name">Sanwat Singh</span></div></li>
                                                    <li>
                                                        <div class="member-card"><span class="member-name">Bhiv Singh</span></div>
                                                        <ul>
                                                            <li>
                                                                <div class="member-card"><span class="member-name">Lal Singh</span></div>
                                                                <ul>
                                                                    <li>
                                                                        <div class="member-card"><span class="member-name">Richhpal Singh</span></div>
                                                                        <ul>
                                                                            <li>
                                                                                <div class="member-card"><span class="member-name">Bhawani Singh</span></div>
                                                                                <ul>
                                                                                    <li>
                                                                                        <div class="member-card"><span class="member-name">Devendra Singh</span></div>
                                                                                        <ul>
                                                                                            <li><div class="member-card"><span class="member-name">Daksh Singh</span></div></li>
                                                                                        </ul>
                                                                                    </li>
                                                                                    <li><div class="member-card"><span class="member-name">Ajeet Singh</span></div></li>
                                                                                </ul>
                                                                            </li>
                                                                            <li>
                                                                                <div class="member-card"><span class="member-name">Ratan Singh</span></div>
                                                                                <ul>
                                                                                    <li><div class="member-card"><span class="member-name">Vikram Singh</span></div></li>
                                                                                </ul>
                                                                            </li>
                                                                            <li>
                                                                                <div class="member-card"><span class="member-name">Narpat Singh</span></div>
                                                                                <ul>
                                                                                    <li><div class="member-card"><span class="member-name">Yogendra Singh</span></div></li>
                                                                                    <li><div class="member-card"><span class="member-name">Kuldeep Singh</span></div></li>
                                                                                </ul>
                                                                            </li>
                                                                            <li>
                                                                                <div class="member-card"><span class="member-name">Tej Singh</span></div>
                                                                                <ul>
                                                                                    <li><div class="member-card"><span class="member-name">Jaydeep Singh</span></div></li>
                                                                                </ul>
                                                                            </li>
                                                                        </ul>
                                                                    </li>
                                                                    <li>
                                                                        <div class="member-card"><span class="member-name">Bhagirath Singh</span></div>
                                                                        <ul>
                                                                            <li><div class="member-card"><span class="member-name">Rajendra Singh</span></div></li>
                                                                            <li><div class="member-card"><span class="member-name">Manohar Singh</span></div></li>
                                                                            <li><div class="member-card"><span class="member-name">Aanand Singh</span></div></li>
                                                                            <li><div class="member-card"><span class="member-name">Gajendra Singh</span></div></li>
                                                                        </ul>
                                                                    </li>
                                                                </ul>
                                                            </li>
                                                            <li>
                                                                <div class="member-card"><span class="member-name">Keshar Singh</span></div>
                                                                <ul>
                                                                    <li>
                                                                        <div class="member-card"><span class="member-name">Sopal Singh</span></div>
                                                                        <ul>
                                                                            <li><div class="member-card"><span class="member-name">Indra Singh</span></div></li>
                                                                            <li><div class="member-card"><span class="member-name">Narendra Singh</span></div></li>
                                                                        </ul>
                                                                    </li>
                                                                    <li><div class="member-card"><span class="member-name">Ugam Singh</span></div></li>
                                                                    <li>
                                                                        <div class="member-card"><span class="member-name">Baagh Singh</span></div>
                                                                        <ul>
                                                                            <li><div class="member-card"><span class="member-name">Laxman Singh</span></div></li>
                                                                            <li><div class="member-card"><span class="member-name">Narpat Singh</span></div></li>
                                                                        </ul>
                                                                    </li>
                                                                    <li><div class="member-card"><span class="member-name">Partap Singh</span></div></li>
                                                                </ul>
                                                            </li>
                                                            <li><div class="member-card"><span class="member-name">Banne Singh</span></div></li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    </ul>
            </li>
        </ul>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const memberCards = document.querySelectorAll('.member-card');
            const nameList = document.getElementById('name-list');
            const tooltip = document.getElementById('tooltip');
            let namesArray = [];

            // 1. Generate Index & Add IDs
            memberCards.forEach((card, index) => {
                let nameSpan = card.querySelector('.member-name');
                if(nameSpan) {
                    let name = nameSpan.textContent.trim();
                    let uniqueId = 'member-' + index;
                    card.setAttribute('id', uniqueId); // ‡§ï‡§æ‡§∞‡•ç‡§° ‡§ï‡•ã ID ‡§¶‡•á‡§Ç
                    
                    namesArray.push({ name: name, id: uniqueId });
                }
            });

            // ‡§®‡§æ‡§Æ‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡•â‡§∞‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç (Alphabetical Order)
            namesArray.sort((a, b) => a.name.localeCompare(b.name));

            // ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§¨‡§®‡§æ‡§è‡§Ç
            namesArray.forEach(item => {
                let li = document.createElement('li');
                li.innerHTML = `<a href="#${item.id}" onclick="highlightMember('${item.id}')">${item.name}</a>`;
                nameList.appendChild(li);
            });

            // 2. Hover Tooltip Logic
            memberCards.forEach(card => {
                card.addEventListener('mousemove', function(e) {
                    let name = this.querySelector('.member-name').innerText;
                    
                    // ‡§™‡§ø‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§¢‡•Ç‡§Ç‡§¢‡§®‡§æ (Logic: Parent UL -> Previous Sibling LI -> .member-card)
                    let parentUl = this.closest('ul');
                    let parentCard = null;
                    let fatherName = "Th. Narayan Singh (Founder)";
                    
                    if (parentUl && parentUl.parentElement.closest('li')) {
                         // ‡§Ö‡§ó‡§∞ ‡§Ø‡§π ‡§∞‡•Ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à
                         let parentLi = parentUl.parentElement;
                         let potentialFather = parentLi.querySelector('.member-card');
                         if(potentialFather) {
                             fatherName = potentialFather.querySelector('.member-name').innerText;
                         }
                    } else {
                        fatherName = "Rathore Lineage";
                    }

                    // Tooltip Content
                    tooltip.innerHTML = `<strong>${name}</strong>Son of: ${fatherName}`;
                    
                    // Tooltip Position
                    tooltip.style.display = 'block';
                    tooltip.style.left = (e.pageX + 15) + 'px';
                    tooltip.style.top = (e.pageY + 15) + 'px';
                });

                card.addEventListener('mouseleave', function() {
                    tooltip.style.display = 'none';
                });
            });
        });

        // 3. Highlight Function
        function highlightMember(id) {
            // ‡§™‡•Å‡§∞‡§æ‡§®‡•á ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§π‡§ü‡§æ‡§è‡§Ç
            document.querySelectorAll('.highlight-name').forEach(el => el.classList.remove('highlight-name'));
            
            // ‡§®‡§Ø‡§æ ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
            let element = document.getElementById(id);
            if(element) {
                element.classList.add('highlight-name');
                setTimeout(() => {
                    element.classList.remove('highlight-name');
                }, 3000); // 3 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§¨‡§æ‡§¶ ‡§π‡§ü‡§æ ‡§¶‡•á‡§Ç
            }
        }

        // 4. Search Filter
        function filterNames() {
            let input = document.getElementById('search-box').value.toLowerCase();
            let ul = document.getElementById("name-list");
            let li = ul.getElementsByTagName('li');

            for (let i = 0; i < li.length; i++) {
                let a = li[i].getElementsByTagName("a")[0];
                let txtValue = a.textContent || a.innerText;
                if (txtValue.toLowerCase().indexOf(input) > -1) {
                    li[i].style.display = "";
                } else {
                    li[i].style.display = "none";
                }
            }
        }
    </script>

</body>
</html>
